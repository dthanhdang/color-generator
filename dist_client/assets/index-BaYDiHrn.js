import{r as c,R as j,a as Be,j as m,c as cn,U as Un,u as Kn,e as Wn,G as Gn,B as Ie,M as qn,b as Jn}from"./index-DzOjVrtU.js";import{P as Qn}from"./PageStyle-B7AZCEo9.js";import{n as $e,T as Zn,A as er,c as ot,g as un,a as be,C as tr,P as nr}from"./PaletteVisualizer-ChwrgWzM.js";import{t as it}from"./bundle-mjs-AdmevC4f.js";import{c as ae}from"./createLucideIcon-DF9bYnqN.js";import{F as rr,a as or,b as ir}from"./FormOklch-BDCrCBde.js";import{u as sr}from"./use-debounced-callback-DLKhTqi2.js";import"./SeoTags-DC0332SI.js";import"./Title-DAIvk6s8.js";import"./Input-Brqh-TH4.js";import"./get-env-uyVen0u2.js";import"./Stack-Durp3aim.js";import"./InputBase-D4UDrMQ2.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lr=ae("ChartColumn",ar);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ur=ae("CirclePlus",cr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],fr=ae("Expand",dr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],gr=ae("Grip",hr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vr=ae("Info",pr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],mr=ae("Redo",br);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]],xr=ae("Shrink",yr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Cr=ae("SquarePen",wr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Dr=ae("Trash",Sr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Er=ae("Undo",Rr);function Mr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ke(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Nt(e){return"nodeType"in e}function V(e){var t,n;return e?ke(e)?e:Nt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function kt(e){const{Document:t}=V(e);return e instanceof t}function Ue(e){return ke(e)?!1:e instanceof V(e).HTMLElement}function dn(e){return e instanceof V(e).SVGElement}function Ae(e){return e?ke(e)?e.document:Nt(e)?kt(e)?e:Ue(e)||dn(e)?e.ownerDocument:document:document:document}const ee=ft?c.useLayoutEffect:c.useEffect;function ht(e){const t=c.useRef(e);return ee(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Ir(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Xe(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return ee(()=>{n.current!==e&&(n.current=e)},t),n}function Ke(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function st(e){const t=ht(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function at(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let wt={};function We(e,t){return c.useMemo(()=>{if(t)return t;const n=wt[e]==null?0:wt[e]+1;return wt[e]=n,e+"-"+n},[e,t])}function fn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,a)=>{const s=Object.entries(a);for(const[l,u]of s){const f=i[l];f!=null&&(i[l]=f+e*u)}return i},{...t})}}const Ne=fn(1),He=fn(-1);function Nr(e){return"clientX"in e&&"clientY"in e}function gt(e){if(!e)return!1;const{KeyboardEvent:t}=V(e.target);return t&&e instanceof t}function kr(e){if(!e)return!1;const{TouchEvent:t}=V(e.target);return t&&e instanceof t}function lt(e){if(kr(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Nr(e)?{x:e.clientX,y:e.clientY}:null}const ye=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ye.Translate.toString(e),ye.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Yt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ar(e){return e.matches(Yt)?e:e.querySelector(Yt)}const Tr={display:"none"};function Or(e){let{id:t,value:n}=e;return j.createElement("div",{id:t,style:Tr},n)}function jr(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return j.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function zr(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const hn=c.createContext(null);function Lr(e){const t=c.useContext(hn);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Pr(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:i}=r;e.forEach(a=>{var s;return(s=a[o])==null?void 0:s.call(a,i)})},[e]),t]}const Br={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$r={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function _r(e){let{announcements:t=$r,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Br}=e;const{announce:i,announcement:a}=zr(),s=We("DndLiveRegion"),[l,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Lr(c.useMemo(()=>({onDragStart(d){let{active:h}=d;i(t.onDragStart({active:h}))},onDragMove(d){let{active:h,over:g}=d;t.onDragMove&&i(t.onDragMove({active:h,over:g}))},onDragOver(d){let{active:h,over:g}=d;i(t.onDragOver({active:h,over:g}))},onDragEnd(d){let{active:h,over:g}=d;i(t.onDragEnd({active:h,over:g}))},onDragCancel(d){let{active:h,over:g}=d;i(t.onDragCancel({active:h,over:g}))}}),[i,t])),!l)return null;const f=j.createElement(j.Fragment,null,j.createElement(Or,{id:r,value:o.draggable}),j.createElement(jr,{id:s,announcement:a}));return n?Be.createPortal(f,n):f}var L;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(L||(L={}));function ct(){}function Ut(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const te=Object.freeze({x:0,y:0});function gn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vr(e,t){const n=lt(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function pn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Xr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Kt(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function vn(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Wt(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Hr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Wt(t,t.left,t.top),i=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const u=gn(Wt(l),o);i.push({id:s,data:{droppableContainer:a,value:u}})}}return i.sort(pn)},Yr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Kt(t),i=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const u=Kt(l),f=o.reduce((h,g,w)=>h+gn(u[w],g),0),d=Number((f/4).toFixed(4));i.push({id:s,data:{droppableContainer:a,value:d}})}}return i.sort(pn)};function Ur(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const l=t.width*t.height,u=e.width*e.height,f=a*s,d=f/(l+u-f);return Number(d.toFixed(4))}return 0}const Kr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:a}=i,s=n.get(a);if(s){const l=Ur(s,t);l>0&&o.push({id:a,data:{droppableContainer:i,value:l}})}}return o.sort(Xr)};function Wr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function bn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:te}function Gr(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,s)=>({...a,top:a.top+e*s.y,bottom:a.bottom+e*s.y,left:a.left+e*s.x,right:a.right+e*s.x}),{...n})}}const qr=Gr(1);function mn(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Jr(e,t,n){const r=mn(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),u=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:f,height:d,top:u,right:l+f,bottom:u+d,left:l}}const Qr={ignoreTransform:!1};function Te(e,t){t===void 0&&(t=Qr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=V(e).getComputedStyle(e);u&&(n=Jr(n,u,f))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function Gt(e){return Te(e,{ignoreTransform:!0})}function Zr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function eo(e,t){return t===void 0&&(t=V(e).getComputedStyle(e)),t.position==="fixed"}function to(e,t){t===void 0&&(t=V(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function pt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(kt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ue(o)||dn(o)||n.includes(o))return n;const i=V(e).getComputedStyle(o);return o!==e&&to(o,i)&&n.push(o),eo(o,i)?n:r(o.parentNode)}return e?r(e):n}function yn(e){const[t]=pt(e,1);return t??null}function Ct(e){return!ft||!e?null:ke(e)?e:Nt(e)?kt(e)||e===Ae(e).scrollingElement?window:Ue(e)?e:null:null}function xn(e){return ke(e)?e.scrollX:e.scrollLeft}function wn(e){return ke(e)?e.scrollY:e.scrollTop}function Et(e){return{x:xn(e),y:wn(e)}}var P;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(P||(P={}));function Cn(e){return!ft||!e?!1:e===document.scrollingElement}function Sn(e){const t={x:0,y:0},n=Cn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:a,isRight:s,maxScroll:r,minScroll:t}}const no={x:.2,y:.2};function ro(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=no);const{isTop:u,isBottom:f,isLeft:d,isRight:h}=Sn(e),g={x:0,y:0},w={x:0,y:0},v={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+v.height?(g.y=P.Backward,w.y=r*Math.abs((t.top+v.height-i)/v.height)):!f&&l>=t.bottom-v.height&&(g.y=P.Forward,w.y=r*Math.abs((t.bottom-v.height-l)/v.height)),!h&&s>=t.right-v.width?(g.x=P.Forward,w.x=r*Math.abs((t.right-v.width-s)/v.width)):!d&&a<=t.left+v.width&&(g.x=P.Backward,w.x=r*Math.abs((t.left+v.width-a)/v.width)),{direction:g,speed:w}}function oo(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Dn(e){return e.reduce((t,n)=>Ne(t,Et(n)),te)}function io(e){return e.reduce((t,n)=>t+xn(n),0)}function so(e){return e.reduce((t,n)=>t+wn(n),0)}function Rn(e,t){if(t===void 0&&(t=Te),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);yn(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ao=[["x",["left","right"],io],["y",["top","bottom"],so]];class At{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=pt(n),o=Dn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,a,s]of ao)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=s(r),f=o[i]-u;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _e{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function lo(e){const{EventTarget:t}=V(e);return e instanceof t?e:Ae(e)}function St(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Q;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Q||(Q={}));function qt(e){e.preventDefault()}function co(e){e.stopPropagation()}var E;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(E||(E={}));const En={start:[E.Space,E.Enter],cancel:[E.Esc],end:[E.Space,E.Enter,E.Tab]},uo=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case E.Right:return{...n,x:n.x+25};case E.Left:return{...n,x:n.x-25};case E.Down:return{...n,y:n.y+25};case E.Up:return{...n,y:n.y-25}}};class Tt{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new _e(Ae(n)),this.windowListeners=new _e(V(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Q.Resize,this.handleCancel),this.windowListeners.add(Q.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Q.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Rn(r),n(te)}handleKeyDown(t){if(gt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=En,coordinateGetter:a=uo,scrollBehavior:s="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:te;this.referenceCoordinates||(this.referenceCoordinates=f);const d=a(t,{active:n,context:r.current,currentCoordinates:f});if(d){const h=He(d,f),g={x:0,y:0},{scrollableAncestors:w}=r.current;for(const v of w){const b=t.code,{isTop:x,isRight:y,isLeft:p,isBottom:R,maxScroll:M,minScroll:I}=Sn(v),C=oo(v),S={x:Math.min(b===E.Right?C.right-C.width/2:C.right,Math.max(b===E.Right?C.left:C.left+C.width/2,d.x)),y:Math.min(b===E.Down?C.bottom-C.height/2:C.bottom,Math.max(b===E.Down?C.top:C.top+C.height/2,d.y))},k=b===E.Right&&!y||b===E.Left&&!p,z=b===E.Down&&!R||b===E.Up&&!x;if(k&&S.x!==d.x){const A=v.scrollLeft+h.x,X=b===E.Right&&A<=M.x||b===E.Left&&A>=I.x;if(X&&!h.y){v.scrollTo({left:A,behavior:s});return}X?g.x=v.scrollLeft-A:g.x=b===E.Right?v.scrollLeft-M.x:v.scrollLeft-I.x,g.x&&v.scrollBy({left:-g.x,behavior:s});break}else if(z&&S.y!==d.y){const A=v.scrollTop+h.y,X=b===E.Down&&A<=M.y||b===E.Up&&A>=I.y;if(X&&!h.x){v.scrollTo({top:A,behavior:s});return}X?g.y=v.scrollTop-A:g.y=b===E.Down?v.scrollTop-M.y:v.scrollTop-I.y,g.y&&v.scrollBy({top:-g.y,behavior:s});break}}this.handleMove(t,Ne(He(d,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Tt.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=En,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Jt(e){return!!(e&&"distance"in e)}function Qt(e){return!!(e&&"delay"in e)}class Ot{constructor(t,n,r){var o;r===void 0&&(r=lo(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:a}=i;this.props=t,this.events=n,this.document=Ae(a),this.documentListeners=new _e(this.document),this.listeners=new _e(r),this.windowListeners=new _e(V(a)),this.initialCoordinates=(o=lt(i))!=null?o:te,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Q.Resize,this.handleCancel),this.windowListeners.add(Q.DragStart,qt),this.windowListeners.add(Q.VisibilityChange,this.handleCancel),this.windowListeners.add(Q.ContextMenu,qt),this.documentListeners.add(Q.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Qt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Jt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Q.Click,co,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Q.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:a,options:{activationConstraint:s}}=i;if(!o)return;const l=(n=lt(t))!=null?n:te,u=He(o,l);if(!r&&s){if(Jt(s)){if(s.tolerance!=null&&St(u,s.tolerance))return this.handleCancel();if(St(u,s.distance))return this.handleStart()}if(Qt(s)&&St(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===E.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const fo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jt extends Ot{constructor(t){const{event:n}=t,r=Ae(n.target);super(t,fo,r)}}jt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const ho={move:{name:"mousemove"},end:{name:"mouseup"}};var Mt;(function(e){e[e.RightClick=2]="RightClick"})(Mt||(Mt={}));class go extends Ot{constructor(t){super(t,ho,Ae(t.event.target))}}go.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Mt.RightClick?!1:(r==null||r({event:n}),!0)}}];const Dt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class po extends Ot{constructor(t){super(t,Dt)}static setup(){return window.addEventListener(Dt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Dt.move.name,t)};function t(){}}}po.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Fe;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fe||(Fe={}));var ut;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ut||(ut={}));function vo(e){let{acceleration:t,activator:n=Fe.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:a=5,order:s=ut.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:f,delta:d,threshold:h}=e;const g=mo({delta:d,disabled:!i}),[w,v]=Ir(),b=c.useRef({x:0,y:0}),x=c.useRef({x:0,y:0}),y=c.useMemo(()=>{switch(n){case Fe.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Fe.DraggableRect:return o}},[n,o,l]),p=c.useRef(null),R=c.useCallback(()=>{const I=p.current;if(!I)return;const C=b.current.x*x.current.x,S=b.current.y*x.current.y;I.scrollBy(C,S)},[]),M=c.useMemo(()=>s===ut.TreeOrder?[...u].reverse():u,[s,u]);c.useEffect(()=>{if(!i||!u.length||!y){v();return}for(const I of M){if((r==null?void 0:r(I))===!1)continue;const C=u.indexOf(I),S=f[C];if(!S)continue;const{direction:k,speed:z}=ro(I,S,y,t,h);for(const A of["x","y"])g[A][k[A]]||(z[A]=0,k[A]=0);if(z.x>0||z.y>0){v(),p.current=I,w(R,a),b.current=z,x.current=k;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,R,r,v,i,a,JSON.stringify(y),JSON.stringify(g),w,u,M,f,JSON.stringify(h)])}const bo={x:{[P.Backward]:!1,[P.Forward]:!1},y:{[P.Backward]:!1,[P.Forward]:!1}};function mo(e){let{delta:t,disabled:n}=e;const r=at(t);return Ke(o=>{if(n||!r||!o)return bo;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[P.Backward]:o.x[P.Backward]||i.x===-1,[P.Forward]:o.x[P.Forward]||i.x===1},y:{[P.Backward]:o.y[P.Backward]||i.y===-1,[P.Forward]:o.y[P.Forward]||i.y===1}}},[n,t,r])}function yo(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ke(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function xo(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...i]},[]),[e,t])}var Ye;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ye||(Ye={}));var It;(function(e){e.Optimized="optimized"})(It||(It={}));const Zt=new Map;function wo(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,a]=c.useState(null),{frequency:s,measure:l,strategy:u}=o,f=c.useRef(e),d=b(),h=Xe(d),g=c.useCallback(function(x){x===void 0&&(x=[]),!h.current&&a(y=>y===null?x:y.concat(x.filter(p=>!y.includes(p))))},[h]),w=c.useRef(null),v=Ke(x=>{if(d&&!n)return Zt;if(!x||x===Zt||f.current!==e||i!=null){const y=new Map;for(let p of e){if(!p)continue;if(i&&i.length>0&&!i.includes(p.id)&&p.rect.current){y.set(p.id,p.rect.current);continue}const R=p.node.current,M=R?new At(l(R),R):null;p.rect.current=M,M&&y.set(p.id,M)}return y}return x},[e,i,n,d,l]);return c.useEffect(()=>{f.current=e},[e]),c.useEffect(()=>{d||g()},[n,d]),c.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),c.useEffect(()=>{d||typeof s!="number"||w.current!==null||(w.current=setTimeout(()=>{g(),w.current=null},s))},[s,d,g,...r]),{droppableRects:v,measureDroppableContainers:g,measuringScheduled:i!=null};function b(){switch(u){case Ye.Always:return!1;case Ye.BeforeDragging:return n;default:return!n}}}function zt(e,t){return Ke(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Co(e,t){return zt(e,t)}function So(e){let{callback:t,disabled:n}=e;const r=ht(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function vt(e){let{callback:t,disabled:n}=e;const r=ht(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Do(e){return new At(Te(e),e)}function en(e,t,n){t===void 0&&(t=Do);const[r,o]=c.useState(null);function i(){o(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const f=t(e);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const a=So({callback(l){if(e)for(const u of l){const{type:f,target:d}=u;if(f==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),s=vt({callback:i});return ee(()=>{i(),e?(s==null||s.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),a==null||a.disconnect())},[e]),r}function Ro(e){const t=zt(e);return bn(e,t)}const tn=[];function Eo(e){const t=c.useRef(e),n=Ke(r=>e?r&&r!==tn&&e&&t.current&&e.parentNode===t.current.parentNode?r:pt(e):tn,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function Mo(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(i=>{const a=Ct(i.target);a&&n(s=>s?(s.set(a,Et(a)),new Map(s)):null)},[]);return c.useEffect(()=>{const i=r.current;if(e!==i){a(i);const s=e.map(l=>{const u=Ct(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,Et(u)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(i)};function a(s){s.forEach(l=>{const u=Ct(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>Ne(i,a),te):Dn(e):te,[e,t])}function nn(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==te;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?He(e,n.current):te}function Io(e){c.useEffect(()=>{if(!ft)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function No(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=a=>{i(a,t)},n},{}),[e,t])}function Mn(e){return c.useMemo(()=>e?Zr(e):null,[e])}const rn=[];function ko(e,t){t===void 0&&(t=Te);const[n]=e,r=Mn(n?V(n):null),[o,i]=c.useState(rn);function a(){i(()=>e.length?e.map(l=>Cn(l)?r:new At(t(l),l)):rn)}const s=vt({callback:a});return ee(()=>{s==null||s.disconnect(),a(),e.forEach(l=>s==null?void 0:s.observe(l))},[e]),o}function In(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ue(t)?t:e}function Ao(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(u=>{for(const{target:f}of u)if(Ue(f)){r(d=>{const h=t(f);return d?{...d,width:h.width,height:h.height}:h});break}},[t]),i=vt({callback:o}),a=c.useCallback(u=>{const f=In(u);i==null||i.disconnect(),f&&(i==null||i.observe(f)),r(f?t(f):null)},[t,i]),[s,l]=st(a);return c.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const To=[{sensor:jt,options:{}},{sensor:Tt,options:{}}],Oo={current:{}},rt={draggable:{measure:Gt},droppable:{measure:Gt,strategy:Ye.WhileDragging,frequency:It.Optimized},dragOverlay:{measure:Te}};class Ve extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const jo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ve,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ct},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rt,measureDroppableContainers:ct,windowRect:null,measuringScheduled:!1},Nn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ct,draggableNodes:new Map,over:null,measureDroppableContainers:ct},Ge=c.createContext(Nn),kn=c.createContext(jo);function zo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ve}}}function Lo(e,t){switch(t.type){case L.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case L.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case L.DragEnd:case L.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case L.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ve(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case L.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Ve(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case L.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Ve(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Po(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(Ge),i=at(r),a=at(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&i&&a!=null){if(!gt(i)||document.activeElement===i.target)return;const s=o.get(a);if(!s)return;const{activatorNode:l,node:u}=s;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[l.current,u.current]){if(!f)continue;const d=Ar(f);if(d){d.focus();break}}})}},[r,t,o,a,i]),null}function An(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function Bo(e){return c.useMemo(()=>({draggable:{...rt.draggable,...e==null?void 0:e.draggable},droppable:{...rt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function $o(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=c.useRef(!1),{x:a,y:s}=typeof o=="boolean"?{x:o,y:o}:o;ee(()=>{if(!a&&!s||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),d=bn(f,r);if(a||(d.x=0),s||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=yn(u);h&&h.scrollBy({top:d.y,left:d.x})}},[t,a,s,r,n])}const bt=c.createContext({...te,scaleX:1,scaleY:1});var me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(me||(me={}));const _o=c.memo(function(t){var n,r,o,i;let{id:a,accessibility:s,autoScroll:l=!0,children:u,sensors:f=To,collisionDetection:d=Kr,measuring:h,modifiers:g,...w}=t;const v=c.useReducer(Lo,void 0,zo),[b,x]=v,[y,p]=Pr(),[R,M]=c.useState(me.Uninitialized),I=R===me.Initialized,{draggable:{active:C,nodes:S,translate:k},droppable:{containers:z}}=b,A=C!=null?S.get(C):null,X=c.useRef({initial:null,translated:null}),H=c.useMemo(()=>{var _;return C!=null?{id:C,data:(_=A==null?void 0:A.data)!=null?_:Oo,rect:X}:null},[C,A]),W=c.useRef(null),[xe,we]=c.useState(null),[F,ne]=c.useState(null),G=Xe(w,Object.values(w)),D=We("DndDescribedBy",a),N=c.useMemo(()=>z.getEnabled(),[z]),O=Bo(h),{droppableRects:B,measureDroppableContainers:re,measuringScheduled:Z}=wo(N,{dragging:I,dependencies:[k.x,k.y],config:O.droppable}),q=yo(S,C),qe=c.useMemo(()=>F?lt(F):null,[F]),de=Yn(),le=Co(q,O.draggable.measure);$o({activeNode:C!=null?S.get(C):null,config:de.layoutShiftCompensation,initialRect:le,measure:O.draggable.measure});const T=en(q,O.draggable.measure,le),Oe=en(q?q.parentElement:null),oe=c.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=z.getNodeFor((n=oe.current.over)==null?void 0:n.id),ce=Ao({measure:O.dragOverlay.measure}),Se=(r=ce.nodeRef.current)!=null?r:q,De=I?(o=ce.rect)!=null?o:T:null,Pt=!!(ce.nodeRef.current&&ce.rect),Bt=Ro(Pt?null:T),mt=Mn(Se?V(Se):null),fe=Eo(I?Ce??q:null),Je=ko(fe),Qe=An(g,{transform:{x:k.x-Bt.x,y:k.y-Bt.y,scaleX:1,scaleY:1},activatorEvent:F,active:H,activeNodeRect:T,containerNodeRect:Oe,draggingNodeRect:De,over:oe.current.over,overlayNodeRect:ce.rect,scrollableAncestors:fe,scrollableAncestorRects:Je,windowRect:mt}),$t=qe?Ne(qe,k):null,_t=Mo(fe),Bn=nn(_t),$n=nn(_t,[T]),Re=Ne(Qe,Bn),Ee=De?qr(De,Qe):null,je=H&&Ee?d({active:H,collisionRect:Ee,droppableRects:B,droppableContainers:N,pointerCoordinates:$t}):null,Ft=vn(je,"id"),[he,Vt]=c.useState(null),_n=Pt?Qe:Ne(Qe,$n),Fn=Wr(_n,(i=he==null?void 0:he.rect)!=null?i:null,T),yt=c.useRef(null),Xt=c.useCallback((_,Y)=>{let{sensor:U,options:ge}=Y;if(W.current==null)return;const J=S.get(W.current);if(!J)return;const K=_.nativeEvent,ie=new U({active:W.current,activeNode:J,event:K,options:ge,context:oe,onAbort($){if(!S.get($))return;const{onDragAbort:se}=G.current,ue={id:$};se==null||se(ue),y({type:"onDragAbort",event:ue})},onPending($,pe,se,ue){if(!S.get($))return;const{onDragPending:Le}=G.current,ve={id:$,constraint:pe,initialCoordinates:se,offset:ue};Le==null||Le(ve),y({type:"onDragPending",event:ve})},onStart($){const pe=W.current;if(pe==null)return;const se=S.get(pe);if(!se)return;const{onDragStart:ue}=G.current,ze={activatorEvent:K,active:{id:pe,data:se.data,rect:X}};Be.unstable_batchedUpdates(()=>{ue==null||ue(ze),M(me.Initializing),x({type:L.DragStart,initialCoordinates:$,active:pe}),y({type:"onDragStart",event:ze}),we(yt.current),ne(K)})},onMove($){x({type:L.DragMove,coordinates:$})},onEnd:Me(L.DragEnd),onCancel:Me(L.DragCancel)});yt.current=ie;function Me($){return async function(){const{active:se,collisions:ue,over:ze,scrollAdjustedTranslate:Le}=oe.current;let ve=null;if(se&&Le){const{cancelDrop:Pe}=G.current;ve={activatorEvent:K,active:se,collisions:ue,delta:Le,over:ze},$===L.DragEnd&&typeof Pe=="function"&&await Promise.resolve(Pe(ve))&&($=L.DragCancel)}W.current=null,Be.unstable_batchedUpdates(()=>{x({type:$}),M(me.Uninitialized),Vt(null),we(null),ne(null),yt.current=null;const Pe=$===L.DragEnd?"onDragEnd":"onDragCancel";if(ve){const xt=G.current[Pe];xt==null||xt(ve),y({type:Pe,event:ve})}})}}},[S]),Vn=c.useCallback((_,Y)=>(U,ge)=>{const J=U.nativeEvent,K=S.get(ge);if(W.current!==null||!K||J.dndKit||J.defaultPrevented)return;const ie={active:K};_(U,Y.options,ie)===!0&&(J.dndKit={capturedBy:Y.sensor},W.current=ge,Xt(U,Y))},[S,Xt]),Ht=xo(f,Vn);Io(f),ee(()=>{T&&R===me.Initializing&&M(me.Initialized)},[T,R]),c.useEffect(()=>{const{onDragMove:_}=G.current,{active:Y,activatorEvent:U,collisions:ge,over:J}=oe.current;if(!Y||!U)return;const K={active:Y,activatorEvent:U,collisions:ge,delta:{x:Re.x,y:Re.y},over:J};Be.unstable_batchedUpdates(()=>{_==null||_(K),y({type:"onDragMove",event:K})})},[Re.x,Re.y]),c.useEffect(()=>{const{active:_,activatorEvent:Y,collisions:U,droppableContainers:ge,scrollAdjustedTranslate:J}=oe.current;if(!_||W.current==null||!Y||!J)return;const{onDragOver:K}=G.current,ie=ge.get(Ft),Me=ie&&ie.rect.current?{id:ie.id,rect:ie.rect.current,data:ie.data,disabled:ie.disabled}:null,$={active:_,activatorEvent:Y,collisions:U,delta:{x:J.x,y:J.y},over:Me};Be.unstable_batchedUpdates(()=>{Vt(Me),K==null||K($),y({type:"onDragOver",event:$})})},[Ft]),ee(()=>{oe.current={activatorEvent:F,active:H,activeNode:q,collisionRect:Ee,collisions:je,droppableRects:B,draggableNodes:S,draggingNode:Se,draggingNodeRect:De,droppableContainers:z,over:he,scrollableAncestors:fe,scrollAdjustedTranslate:Re},X.current={initial:De,translated:Ee}},[H,q,je,Ee,S,Se,De,B,z,he,fe,Re]),vo({...de,delta:k,draggingRect:Ee,pointerCoordinates:$t,scrollableAncestors:fe,scrollableAncestorRects:Je});const Xn=c.useMemo(()=>({active:H,activeNode:q,activeNodeRect:T,activatorEvent:F,collisions:je,containerNodeRect:Oe,dragOverlay:ce,draggableNodes:S,droppableContainers:z,droppableRects:B,over:he,measureDroppableContainers:re,scrollableAncestors:fe,scrollableAncestorRects:Je,measuringConfiguration:O,measuringScheduled:Z,windowRect:mt}),[H,q,T,F,je,Oe,ce,S,z,B,he,re,fe,Je,O,Z,mt]),Hn=c.useMemo(()=>({activatorEvent:F,activators:Ht,active:H,activeNodeRect:T,ariaDescribedById:{draggable:D},dispatch:x,draggableNodes:S,over:he,measureDroppableContainers:re}),[F,Ht,H,T,x,D,S,he,re]);return j.createElement(hn.Provider,{value:p},j.createElement(Ge.Provider,{value:Hn},j.createElement(kn.Provider,{value:Xn},j.createElement(bt.Provider,{value:Fn},u)),j.createElement(Po,{disabled:(s==null?void 0:s.restoreFocus)===!1})),j.createElement(_r,{...s,hiddenTextDescribedById:D}));function Yn(){const _=(xe==null?void 0:xe.autoScrollEnabled)===!1,Y=typeof l=="object"?l.enabled===!1:l===!1,U=I&&!_&&!Y;return typeof l=="object"?{...l,enabled:U}:{enabled:U}}}),Fo=c.createContext(null),on="button",Vo="Draggable";function Xo(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=We(Vo),{activators:a,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:f,draggableNodes:d,over:h}=c.useContext(Ge),{role:g=on,roleDescription:w="draggable",tabIndex:v=0}=o??{},b=(l==null?void 0:l.id)===t,x=c.useContext(b?bt:Fo),[y,p]=st(),[R,M]=st(),I=No(a,t),C=Xe(n);ee(()=>(d.set(t,{id:t,key:i,node:y,activatorNode:R,data:C}),()=>{const k=d.get(t);k&&k.key===i&&d.delete(t)}),[d,t]);const S=c.useMemo(()=>({role:g,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&g===on?!0:void 0,"aria-roledescription":w,"aria-describedby":f.draggable}),[r,g,v,b,w,f.draggable]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:S,isDragging:b,listeners:r?void 0:I,node:y,over:h,setNodeRef:p,setActivatorNodeRef:M,transform:x}}function Tn(){return c.useContext(kn)}const Ho="Droppable",Yo={timeout:25};function Uo(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=We(Ho),{active:a,dispatch:s,over:l,measureDroppableContainers:u}=c.useContext(Ge),f=c.useRef({disabled:n}),d=c.useRef(!1),h=c.useRef(null),g=c.useRef(null),{disabled:w,updateMeasurementsFor:v,timeout:b}={...Yo,...o},x=Xe(v??r),y=c.useCallback(()=>{if(!d.current){d.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),g.current=null},b)},[b]),p=vt({callback:y,disabled:w||!a}),R=c.useCallback((S,k)=>{p&&(k&&(p.unobserve(k),d.current=!1),S&&p.observe(S))},[p]),[M,I]=st(R),C=Xe(t);return c.useEffect(()=>{!p||!M.current||(p.disconnect(),d.current=!1,p.observe(M.current))},[M,p]),c.useEffect(()=>(s({type:L.RegisterDroppable,element:{id:r,key:i,disabled:n,node:M,rect:h,data:C}}),()=>s({type:L.UnregisterDroppable,key:i,id:r})),[r]),c.useEffect(()=>{n!==f.current.disabled&&(s({type:L.SetDroppableDisabled,id:r,key:i,disabled:n}),f.current.disabled=n)},[r,i,n,s]),{active:a,rect:h,isOver:(l==null?void 0:l.id)===r,node:M,over:l,setNodeRef:I}}function Ko(e){let{animation:t,children:n}=e;const[r,o]=c.useState(null),[i,a]=c.useState(null),s=at(n);return!n&&!r&&s&&o(s),ee(()=>{if(!i)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){o(null);return}Promise.resolve(t(u,i)).then(()=>{o(null)})},[t,r,i]),j.createElement(j.Fragment,null,n,r?c.cloneElement(r,{ref:a}):null)}const Wo={x:0,y:0,scaleX:1,scaleY:1};function Go(e){let{children:t}=e;return j.createElement(Ge.Provider,{value:Nn},j.createElement(bt.Provider,{value:Wo},t))}const qo={position:"fixed",touchAction:"none"},Jo=e=>gt(e)?"transform 250ms ease":void 0,Qo=c.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:i,className:a,rect:s,style:l,transform:u,transition:f=Jo}=e;if(!s)return null;const d=o?u:{...u,scaleX:1,scaleY:1},h={...qo,width:s.width,height:s.height,top:s.top,left:s.left,transform:ye.Transform.toString(d),transformOrigin:o&&r?Vr(r,s):void 0,transition:typeof f=="function"?f(r):f,...l};return j.createElement(n,{className:a,style:h,ref:t},i)}),Zo=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:i,className:a}=e;if(i!=null&&i.active)for(const[s,l]of Object.entries(i.active))l!==void 0&&(o[s]=n.node.style.getPropertyValue(s),n.node.style.setProperty(s,l));if(i!=null&&i.dragOverlay)for(const[s,l]of Object.entries(i.dragOverlay))l!==void 0&&r.node.style.setProperty(s,l);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(o))n.node.style.setProperty(l,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},ei=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ye.Transform.toString(t)},{transform:ye.Transform.toString(n)}]},ti={duration:250,easing:"ease",keyframes:ei,sideEffects:Zo({styles:{active:{opacity:"0"}}})};function ni(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return ht((i,a)=>{if(t===null)return;const s=n.get(i);if(!s)return;const l=s.node.current;if(!l)return;const u=In(a);if(!u)return;const{transform:f}=V(a).getComputedStyle(a),d=mn(f);if(!d)return;const h=typeof t=="function"?t:ri(t);return Rn(l,o.draggable.measure),h({active:{id:i,data:s.data,node:l,rect:o.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:a,rect:o.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:o,transform:d})})}function ri(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...ti,...e};return i=>{let{active:a,dragOverlay:s,transform:l,...u}=i;if(!t)return;const f={x:s.rect.left-a.rect.left,y:s.rect.top-a.rect.top},d={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/s.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/s.rect.height:1},h={x:l.x-f.x,y:l.y-f.y,...d},g=o({...u,active:a,dragOverlay:s,transform:{initial:l,final:h}}),[w]=g,v=g[g.length-1];if(JSON.stringify(w)===JSON.stringify(v))return;const b=r==null?void 0:r({active:a,dragOverlay:s,...u}),x=s.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{x.onfinish=()=>{b==null||b(),y()}})}}let sn=0;function oi(e){return c.useMemo(()=>{if(e!=null)return sn++,sn},[e])}const ii=j.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:i,modifiers:a,wrapperElement:s="div",className:l,zIndex:u=999}=e;const{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:g,draggableNodes:w,droppableContainers:v,dragOverlay:b,over:x,measuringConfiguration:y,scrollableAncestors:p,scrollableAncestorRects:R,windowRect:M}=Tn(),I=c.useContext(bt),C=oi(d==null?void 0:d.id),S=An(a,{activatorEvent:f,active:d,activeNodeRect:h,containerNodeRect:g,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:p,scrollableAncestorRects:R,transform:I,windowRect:M}),k=zt(h),z=ni({config:r,draggableNodes:w,droppableContainers:v,measuringConfiguration:y}),A=k?b.setRef:void 0;return j.createElement(Go,null,j.createElement(Ko,{animation:z},d&&C?j.createElement(Qo,{key:C,id:d.id,ref:A,as:s,activatorEvent:f,adjustScale:t,className:l,transition:i,rect:k,style:{zIndex:u,...o},transform:S},n):null))});function Lt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function si(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function Ze(e){return e!==null&&e>=0}function ai(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function li(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const et={scaleX:1,scaleY:1},ci=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:a}=e;const s=(t=n[o])!=null?t:r;if(!s)return null;const l=ui(n,a,o);if(a===o){const u=n[i];return u?{x:o<i?u.left+u.width-(s.left+s.width):u.left-s.left,y:0,...et}:null}return a>o&&a<=i?{x:-s.width-l,y:0,...et}:a<o&&a>=i?{x:s.width+l,y:0,...et}:{x:0,y:0,...et}};function ui(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const On=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Lt(t,r,n),a=t[o],s=i[o];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}},tt={scaleX:1,scaleY:1},di=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:a}=e;const s=(t=i[n])!=null?t:r;if(!s)return null;if(o===n){const u=i[a];return u?{x:0,y:n<a?u.top+u.height-(s.top+s.height):u.top-s.top,...tt}:null}const l=fi(i,o,n);return o>n&&o<=a?{x:0,y:-s.height-l,...tt}:o<n&&o>=a?{x:0,y:s.height+l,...tt}:{x:0,y:0,...tt}};function fi(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const jn="Sortable",zn=j.createContext({activeIndex:-1,containerId:jn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:On,disabled:{draggable:!1,droppable:!1}});function hi(e){let{children:t,id:n,items:r,strategy:o=On,disabled:i=!1}=e;const{active:a,dragOverlay:s,droppableRects:l,over:u,measureDroppableContainers:f}=Tn(),d=We(jn,n),h=s.rect!==null,g=c.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),w=a!=null,v=a?g.indexOf(a.id):-1,b=u?g.indexOf(u.id):-1,x=c.useRef(g),y=!ai(g,x.current),p=b!==-1&&v===-1||y,R=li(i);ee(()=>{y&&w&&f(g)},[y,g,w,f]),c.useEffect(()=>{x.current=g},[g]);const M=c.useMemo(()=>({activeIndex:v,containerId:d,disabled:R,disableTransforms:p,items:g,overIndex:b,useDragOverlay:h,sortedRects:si(g,l),strategy:o}),[v,d,R.draggable,R.droppable,p,g,b,l,h,o]);return j.createElement(zn.Provider,{value:M},t)}const gi=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Lt(n,r,o).indexOf(t)},pi=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:u}=e;return!u||!r||s!==i&&o===a?!1:n?!0:a!==o&&t===l},vi={duration:200,easing:"ease"},Ln="transform",bi=ye.Transition.toString({property:Ln,duration:0,easing:"linear"}),mi={roleDescription:"sortable"};function yi(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,a]=c.useState(null),s=c.useRef(n);return ee(()=>{if(!t&&n!==s.current&&r.current){const l=o.current;if(l){const u=Te(r.current,{ignoreTransform:!0}),f={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(f.x||f.y)&&a(f)}}n!==s.current&&(s.current=n)},[t,n,r,o]),c.useEffect(()=>{i&&a(null)},[i]),i}function xi(e){let{animateLayoutChanges:t=pi,attributes:n,disabled:r,data:o,getNewIndex:i=gi,id:a,strategy:s,resizeObserverConfig:l,transition:u=vi}=e;const{items:f,containerId:d,activeIndex:h,disabled:g,disableTransforms:w,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:y}=c.useContext(zn),p=wi(r,g),R=f.indexOf(a),M=c.useMemo(()=>({sortable:{containerId:d,index:R,items:f},...o}),[d,o,R,f]),I=c.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:C,node:S,isOver:k,setNodeRef:z}=Uo({id:a,data:M,disabled:p.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...l}}),{active:A,activatorEvent:X,activeNodeRect:H,attributes:W,setNodeRef:xe,listeners:we,isDragging:F,over:ne,setActivatorNodeRef:G,transform:D}=Xo({id:a,data:M,attributes:{...mi,...n},disabled:p.draggable}),N=Mr(z,xe),O=!!A,B=O&&!w&&Ze(h)&&Ze(b),re=!x&&F,Z=re&&B?D:null,qe=B?Z??(s??y)({rects:v,activeNodeRect:H,activeIndex:h,overIndex:b,index:R}):null,de=Ze(h)&&Ze(b)?i({id:a,items:f,activeIndex:h,overIndex:b}):R,le=A==null?void 0:A.id,T=c.useRef({activeId:le,items:f,newIndex:de,containerId:d}),Oe=f!==T.current.items,oe=t({active:A,containerId:d,isDragging:F,isSorting:O,id:a,index:R,items:f,newIndex:T.current.newIndex,previousItems:T.current.items,previousContainerId:T.current.containerId,transition:u,wasDragging:T.current.activeId!=null}),Ce=yi({disabled:!oe,index:R,node:S,rect:C});return c.useEffect(()=>{O&&T.current.newIndex!==de&&(T.current.newIndex=de),d!==T.current.containerId&&(T.current.containerId=d),f!==T.current.items&&(T.current.items=f)},[O,de,d,f]),c.useEffect(()=>{if(le===T.current.activeId)return;if(le!=null&&T.current.activeId==null){T.current.activeId=le;return}const Se=setTimeout(()=>{T.current.activeId=le},50);return()=>clearTimeout(Se)},[le]),{active:A,activeIndex:h,attributes:W,data:M,rect:C,index:R,newIndex:de,items:f,isOver:k,isSorting:O,isDragging:F,listeners:we,node:S,overIndex:b,over:ne,setNodeRef:N,setActivatorNodeRef:G,setDroppableNodeRef:z,setDraggableNodeRef:xe,transform:Ce??qe,transition:ce()};function ce(){if(Ce||Oe&&T.current.newIndex===R)return bi;if(!(re&&!gt(X)||!u)&&(O||oe))return ye.Transition.toString({...u,property:Ln})}}function wi(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function dt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Ci=[E.Down,E.Right,E.Up,E.Left],Si=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:s}}=t;if(Ci.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=o.get(d.id);if(h)switch(e.code){case E.Down:r.top<h.top&&l.push(d);break;case E.Up:r.top>h.top&&l.push(d);break;case E.Left:r.left>h.left&&l.push(d);break;case E.Right:r.left<h.left&&l.push(d);break}});const u=Yr({collisionRect:r,droppableRects:o,droppableContainers:l});let f=vn(u,"id");if(f===(a==null?void 0:a.id)&&u.length>1&&(f=u[1].id),f!=null){const d=i.get(n.id),h=i.get(f),g=h?o.get(h.id):null,w=h==null?void 0:h.node.current;if(w&&g&&d&&h){const b=pt(w).some((I,C)=>s[C]!==I),x=Pn(d,h),y=Di(d,h),p=b||!x?{x:0,y:0}:{x:y?r.width-g.width:0,y:y?r.height-g.height:0},R={x:g.left,y:g.top};return p.x&&p.y?R:He(R,p)}}}};function Pn(e,t){return!dt(e)||!dt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Di(e,t){return!dt(e)||!dt(t)||!Pn(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const Rt=(e,t)=>{switch(t.type){case"delete":return e.toSpliced(t.index,1);case"duplicate":return e.toSpliced(t.index+1,0,{...e[t.index],id:$e()});case"initialize":return t.palette.map(n=>({color:n,id:$e()}));case"modify":return e.toSpliced(t.index,1,{...e[t.index],color:t.color});case"swap":return Lt(e,t.fromIndex,t.toIndex)}};function Ri(e){c.useEffect(()=>{n([{type:"initialize",palette:e}]),o(0)},[e]);const[t,n]=c.useState(()=>[{type:"initialize",palette:e}]),[r,o]=c.useState(0);return{actionIndex:r,actions:t,addAction:(l,u)=>{const f=[...t.slice(0,r+1),l];return n(f),o(f.length-1),Rt(u,l)},redo:l=>{const u=Rt(l,t[r+1]);return o(r+1),u},undo:()=>{const l=t.slice(0,r).reduce((u,f)=>Rt(u,f),[]);return o(u=>u-1),l}}}function an(e,{darkColor:t="#000",lightColor:n="#fff",revert:r=!1}={}){let o=e.luminance()>.5;return r&&(o=!o),o?t:n}function nt({active:e=!1,className:t,Icon:n,tooltip:r,...o}){const{onClick:i}=o;return m.jsx(Zn,{label:r,children:m.jsx(er,{...o,className:it(cn("disabled:bg-transparent",i!==void 0&&"text-current",e&&"text-red-800",t)),disabled:i===void 0,size:"lg",variant:"transparent",children:m.jsx(n,{strokeWidth:e?3:void 0})})})}function ln({action:e,color:t,id:n,isOverlay:r,onDelete:o,onDuplicate:i,onEdit:a,onSelect:s,parentHeight:l,parentLayout:u}){var x;const{attributes:f,listeners:d,setNodeRef:h,transform:g,transition:w}=xi({id:n}),v={transform:ye.Transform.toString(g),transition:w},b=an(t);return m.jsxs("div",{...f,className:cn("grow flex flex-col justify-end gap-3 stroke-[current] relative gap-3 overflow-hidden",u==="horizontal"?"basis-0 p-2":"p-4"),ref:h,style:{...v,backgroundColor:r?`${t.hex()}D0`:t.hex(),color:b,height:u==="horizontal"?l:void 0},children:[m.jsx(Un,{...d,className:"cursor-pointer absolute -right-10 -top-10 rounded-full size-20 flex flex-col",style:{backgroundColor:b},children:m.jsx(gr,{className:"ml-3 mb-3 mt-auto mr-auto size-6",color:an(t,{revert:!0})})}),m.jsxs("div",{className:"flex flex-row justify-center my-auto gap-x-2",children:[m.jsx(nt,{tooltip:"Duplicate",onClick:i,Icon:ur}),m.jsx(nt,{tooltip:"Delete",onClick:o,Icon:Dr}),m.jsx(nt,{active:e==="color_editor",tooltip:"Edit",onClick:a,Icon:Cr}),m.jsx(nt,{active:e==="color_details",tooltip:"Details",onClick:s,Icon:vr})]}),m.jsx("p",{className:"text-center bold uppercase",children:ot(t).hex()}),m.jsx("p",{className:"text-center",children:((x=un(ot(t)))==null?void 0:x.name)??t.hex()})]})}function Ei({className:e,onTabChange:t,tab:n,...r}){const o=i=>{i&&t(i)};return m.jsx("div",{className:it("flex flex-col gap-2",e),children:m.jsxs(be,{value:n,onChange:o,children:[m.jsxs(be.List,{children:[m.jsx(be.Tab,{value:"hex",children:"Hex"}),m.jsx(be.Tab,{value:"hsl",children:"HSL"}),m.jsx(be.Tab,{value:"oklch",children:"OKLCH"})]}),m.jsx(be.Panel,{value:"hex",children:m.jsx(rr,{...r})}),m.jsx(be.Panel,{value:"hsl",children:m.jsx(or,{...r})}),m.jsx(be.Panel,{value:"oklch",children:m.jsx(ir,{...r})})]})})}function Mi(){const[e,t]=c.useState({width:null,height:null}),n=c.useRef(null);return[c.useCallback(o=>{if(n.current&&(n.current.disconnect(),n.current=null),(o==null?void 0:o.nodeType)===Node.ELEMENT_NODE){const i=new ResizeObserver(([a])=>{if(a&&a.borderBoxSize){const{inlineSize:s,blockSize:l}=a.borderBoxSize[0];t({width:s,height:l})}});i.observe(o),n.current=i}},[]),e]}function Ii(){const[e,t]=c.useState();return{adjustIndex:(s,l)=>{if(e&&(e.type==="color_details"||e.type==="color_editor")){const u=s[e.index].id,f=l.findIndex(d=>d.id===u);t(f===-1?void 0:{...e,index:f})}},bottomPart:e,getIndexAction:s=>e!==void 0&&"index"in e&&e.index===s?e.type:void 0,onEdit:s=>{t(l=>l!==void 0&&l.type==="color_editor"&&l.index===s?void 0:{type:"color_editor",index:s})},onSelect:s=>{t(l=>l!==void 0&&l.type==="color_details"&&l.index===s?void 0:{type:"color_details",index:s})},onTogglePaletteVisualizer:()=>{t(s=>(s==null?void 0:s.type)==="palette_visualizer"?void 0:{type:"palette_visualizer"})}}}const Ni=e=>{let{transform:t}=e;return{...t,y:0}},ki=e=>{let{transform:t}=e;return{...t,x:0}};function Ai({className:e,palette:t}){const[n,r]=c.useState(t.map(D=>({color:D,id:$e()})));c.useEffect(()=>{r(t.map(D=>({color:D,id:$e()})))},[t]);const{actions:o,actionIndex:i,addAction:a,redo:s,undo:l}=Ri(t),[u,f]=c.useState(),[d,h]=c.useState(!1),g=Fr(Ut(jt),Ut(Tt,{coordinateGetter:Si})),[w,v]=Mi(),[b,x]=c.useState("hex"),{adjustIndex:y,bottomPart:p,getIndexAction:R,onEdit:M,onSelect:I,onTogglePaletteVisualizer:C}=Ii(),S=Kn(`(min-width: ${Wn(768)})`),k=D=>{const N=a(D,n);return r(N),N},z=D=>{const{active:N}=D,O=n.find(B=>B.id===N.id);O&&f(O)},A=D=>{const{active:N,over:O}=D;if(O!==null&&N.id!==O.id){const B=n.findIndex(Z=>Z.id===N.id),re=n.findIndex(Z=>Z.id===O.id);if(B!==-1&&re!==-1){const Z=k({type:"swap",fromIndex:B,toIndex:re});y(n,Z)}}f(void 0)},X=D=>{const N=k({type:"delete",index:D});y(n,N)},H=D=>{const N=k({type:"duplicate",index:D});y(n,N)},W=D=>{(p==null?void 0:p.type)==="color_editor"&&k({type:"modify",index:p.index,color:D})},xe=sr(D=>{(p==null?void 0:p.type)==="color_editor"&&r(N=>N.toSpliced(p.index,1,{color:D,id:$e()}))},{delay:10}),we=()=>{const D=l();r(D),y(n,D)},F=()=>{r(D=>{const N=s(D);return y(D,N),N})},ne=S&&n.length<=7?"horizontal":"vertical",G=m.jsx(_o,{modifiers:ne==="horizontal"?[Ni]:[ki],sensors:g,collisionDetection:Hr,onDragEnd:A,onDragStart:z,children:m.jsxs("div",{className:it("flex flex-col",e),children:[m.jsxs(Gn,{className:"mb-2 flex-wrap items-center",children:[m.jsxs(Ie.Group,{children:[m.jsx(Ie,{disabled:i===0,leftSection:m.jsx(Er,{}),onClick:we,variant:"outline",children:"Undo"}),m.jsx(Ie,{disabled:i===o.length-1,leftSection:m.jsx(mr,{}),onClick:F,variant:"outline",children:"Redo"})]}),m.jsxs(Ie.Group,{className:"lg:ml-auto",children:[m.jsx(Ie,{className:"ml-auto",leftSection:m.jsx(lr,{}),onClick:C,variant:"outline",children:(p==null?void 0:p.type)==="palette_visualizer"?"Hide preview":"Show preview"}),m.jsx(Ie,{leftSection:d?m.jsx(xr,{}):m.jsx(fr,{}),onClick:()=>h(!d),variant:"outline",children:d?"Minimize":"Maximize"})]})]}),m.jsxs(hi,{items:n,strategy:ne==="horizontal"?ci:di,children:[m.jsxs("div",{className:it("flex mb-auto min-h-[40vh]",ne==="horizontal"?"flex-row flex-wrap":"flex-col"),ref:w,children:[n.map((D,N)=>m.jsx(ln,{action:R(N),color:D.color,id:D.id,onDelete:n.length<=1?void 0:()=>X(N),onDuplicate:n.length<=6?()=>H(N):void 0,onEdit:()=>M(N),onSelect:()=>I(N),parentLayout:ne},D.id)),m.jsx(ii,{children:u?m.jsx(ln,{color:u.color,id:u.id,isOverlay:!0,parentHeight:v.height??void 0,parentLayout:ne}):null})]}),(p==null?void 0:p.type)==="color_details"&&m.jsx(tr,{className:"mt-4 mb-auto grow",color:n[p.index].color}),(p==null?void 0:p.type)==="palette_visualizer"&&m.jsx(nr,{palette:n.map(({color:D,id:N},O)=>{var B;return{color:D,id:N,weight:O*50,name:((B=un(D))==null?void 0:B.name)??D.hex()}})}),(p==null?void 0:p.type)==="color_editor"&&m.jsx(Ei,{className:"mt-4 mb-auto grow",color:n[p.index].color,onChange:xe,onChangeEnd:W,onTabChange:x,tab:b})]})]})});return d?m.jsx(qn,{classNames:{body:"flex flex-col h-lvh"},fullScreen:!0,opened:!0,onClose:()=>h(!1),withCloseButton:!1,children:G}):G}function Ti({palette:e}){return m.jsx(Qn,{className:"flex flex-col h-lvh",title:"Your *Palette* Editor",children:m.jsx(Ai,{className:"grow",palette:e.map(t=>ot(t))})})}function Oi(e){return/[a-f0-9]{6}/i.test(e)}function ji(e){if(e===void 0)return;const t=e.split("-");if(t.every(n=>Oi(n)))return t}const Wi=function(){const{palette:t}=Jn.useSearch(),n=ji(t)??[ot.random().hex()];return console.log(n),m.jsx(Ti,{palette:n})};export{Wi as component};
